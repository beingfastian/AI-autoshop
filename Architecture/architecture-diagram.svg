<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1600" height="1100" viewBox="0 0 1600 1100">
  <defs>
    <style>
      .layer-edge { fill: #dae8fc; stroke: #6c8ebf; stroke-width: 2; }
      .layer-gateway { fill: #fff2cc; stroke: #d6b656; stroke-width: 2; }
      .layer-service { fill: #d5e8d4; stroke: #82b366; stroke-width: 2; }
      .layer-queue { fill: #e1d5e7; stroke: #9673a6; stroke-width: 2; }
      .layer-worker { fill: #f8cecc; stroke: #b85450; stroke-width: 2; }
      .layer-database { fill: #ffe6cc; stroke: #d79b00; stroke-width: 2; }
      .layer-db-component { fill: #ffffff; stroke: #d79b00; stroke-width: 1.5; }
      .text-title { font-family: Arial, sans-serif; font-size: 16px; font-weight: bold; text-anchor: middle; fill: #000; }
      .text-subtitle { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; fill: #333; }
      .text-small { font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; fill: #000; }
      .arrow { fill: none; stroke-width: 2; marker-end: url(#arrowhead); }
      .arrow-solid { stroke: #6c8ebf; }
      .arrow-gateway { stroke: #d6b656; }
      .arrow-service { stroke: #82b366; }
      .arrow-queue { stroke: #9673a6; }
      .arrow-worker { stroke: #b85450; }
      .arrow-dashed { stroke-dasharray: 5,5; stroke: #d79b00; }
    </style>
    
    <!-- Arrow marker -->
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#666" />
    </marker>
  </defs>
  
  <!-- TITLE -->
  <text x="800" y="25" class="text-title" style="font-size: 20px;">AI Call Receptionist Platform - System Architecture</text>
  
  <!-- EDGE LAYER -->
  <rect x="200" y="50" width="1200" height="70" rx="10" class="layer-edge"/>
  <text x="800" y="75" class="text-title">EDGE LAYER (CloudFlare/AWS CloudFront)</text>
  <text x="800" y="100" class="text-subtitle">Global CDN • DDoS Protection • SSL</text>
  
  <!-- Arrow from Edge to Gateway -->
  <line x1="800" y1="120" x2="800" y2="170" class="arrow arrow-solid"/>
  
  <!-- API GATEWAY LAYER -->
  <rect x="200" y="170" width="1200" height="70" rx="10" class="layer-gateway"/>
  <text x="800" y="195" class="text-title">API GATEWAY (Kong/AWS ALB)</text>
  <text x="800" y="220" class="text-subtitle">Rate Limiting • Auth • Load Balancing • Request Routing</text>
  
  <!-- MICROSERVICES LAYER -->
  
  <!-- Voice Service -->
  <rect x="220" y="290" width="180" height="100" rx="8" class="layer-service"/>
  <text x="310" y="315" class="text-title" style="font-size: 14px;">Voice Service</text>
  <text x="310" y="335" class="text-small">(Node.js)</text>
  <text x="310" y="365" class="text-small" style="font-style: italic;">[Call]</text>
  
  <!-- Webhook Service -->
  <rect x="440" y="290" width="180" height="100" rx="8" class="layer-service"/>
  <text x="530" y="315" class="text-title" style="font-size: 14px;">Webhook Service</text>
  <text x="530" y="335" class="text-small">(Node.js)</text>
  <text x="530" y="365" class="text-small" style="font-style: italic;">[Webhook]</text>
  
  <!-- Dashboard API -->
  <rect x="660" y="290" width="180" height="100" rx="8" class="layer-service"/>
  <text x="750" y="315" class="text-title" style="font-size: 14px;">Dashboard API</text>
  <text x="750" y="335" class="text-small">(Next.js)</text>
  <text x="750" y="365" class="text-small" style="font-style: italic;">[Dashboard]</text>
  
  <!-- Admin API -->
  <rect x="880" y="290" width="180" height="100" rx="8" class="layer-service"/>
  <text x="970" y="315" class="text-title" style="font-size: 14px;">Admin API</text>
  <text x="970" y="335" class="text-small">(Next.js)</text>
  <text x="970" y="365" class="text-small" style="font-style: italic;">[Admin]</text>
  
  <!-- Analytics Service -->
  <rect x="1100" y="290" width="180" height="100" rx="8" class="layer-service"/>
  <text x="1190" y="315" class="text-title" style="font-size: 14px;">Analytics Service</text>
  <text x="1190" y="335" class="text-small">(Python)</text>
  <text x="1190" y="365" class="text-small" style="font-style: italic;">[Analytics]</text>
  
  <!-- Arrows from Gateway to Services -->
  <line x1="310" y1="240" x2="310" y2="290" class="arrow arrow-gateway"/>
  <line x1="530" y1="240" x2="530" y2="290" class="arrow arrow-gateway"/>
  <line x1="750" y1="240" x2="750" y2="290" class="arrow arrow-gateway"/>
  <line x1="970" y1="240" x2="970" y2="290" class="arrow arrow-gateway"/>
  <line x1="1190" y1="240" x2="1190" y2="290" class="arrow arrow-gateway"/>
  
  <!-- MESSAGE QUEUE LAYER -->
  <rect x="200" y="450" width="1200" height="100" rx="10" class="layer-queue"/>
  <text x="800" y="475" class="text-title">MESSAGE QUEUE (Apache Kafka / AWS SQS)</text>
  <text x="800" y="505" class="text-subtitle" style="font-size: 11px;">Topics: call.initiated | call.completed | booking.created</text>
  <text x="800" y="525" class="text-subtitle" style="font-size: 11px;">email.send | analytics.track | billing.event</text>
  
  <!-- Arrows from Services to Queue -->
  <line x1="310" y1="390" x2="310" y2="450" class="arrow arrow-service"/>
  <line x1="530" y1="390" x2="530" y2="450" class="arrow arrow-service"/>
  <line x1="750" y1="390" x2="750" y2="450" class="arrow arrow-service"/>
  <line x1="970" y1="390" x2="970" y2="450" class="arrow arrow-service"/>
  <line x1="1190" y1="390" x2="1190" y2="450" class="arrow arrow-service"/>
  
  <!-- WORKER SERVICES LAYER -->
  
  <!-- Booking Service -->
  <rect x="280" y="610" width="180" height="90" rx="8" class="layer-worker"/>
  <text x="370" y="635" class="text-title" style="font-size: 14px;">Booking Service</text>
  <text x="370" y="665" class="text-small">Create/Update</text>
  <text x="370" y="682" class="text-small">Bookings</text>
  
  <!-- Email Service -->
  <rect x="540" y="610" width="180" height="90" rx="8" class="layer-worker"/>
  <text x="630" y="635" class="text-title" style="font-size: 14px;">Email Service</text>
  <text x="630" y="655" class="text-small">(SendGrid)</text>
  <text x="630" y="682" class="text-small">Confirmations</text>
  
  <!-- Notification Service -->
  <rect x="800" y="610" width="180" height="90" rx="8" class="layer-worker"/>
  <text x="890" y="635" class="text-title" style="font-size: 14px;">Notification Service</text>
  <text x="890" y="655" class="text-small">(Twilio/SNS)</text>
  <text x="890" y="682" class="text-small">SMS/Push</text>
  
  <!-- Billing Service -->
  <rect x="1060" y="610" width="180" height="90" rx="8" class="layer-worker"/>
  <text x="1150" y="635" class="text-title" style="font-size: 14px;">Billing Service</text>
  <text x="1150" y="655" class="text-small">(Stripe)</text>
  <text x="1150" y="682" class="text-small">Usage Tracking</text>
  
  <!-- Arrows from Queue to Workers -->
  <line x1="370" y1="550" x2="370" y2="610" class="arrow arrow-queue"/>
  <line x1="630" y1="550" x2="630" y2="610" class="arrow arrow-queue"/>
  <line x1="890" y1="550" x2="890" y2="610" class="arrow arrow-queue"/>
  <line x1="1150" y1="550" x2="1150" y2="610" class="arrow arrow-queue"/>
  
  <!-- DATABASE LAYER -->
  <rect x="200" y="760" width="1200" height="90" rx="10" class="layer-database"/>
  <text x="800" y="785" class="text-title">DATABASE LAYER (Multi-tier)</text>
  <text x="800" y="815" class="text-subtitle">PostgreSQL Primary + Read Replicas • Redis Cache • S3 Storage</text>
  
  <!-- Arrows from Workers to Database -->
  <line x1="370" y1="700" x2="370" y2="760" class="arrow arrow-worker"/>
  <line x1="1150" y1="700" x2="1150" y2="760" class="arrow arrow-worker"/>
  
  <!-- DATABASE COMPONENTS -->
  
  <!-- PostgreSQL Primary -->
  <rect x="240" y="900" width="140" height="60" rx="5" class="layer-db-component"/>
  <text x="310" y="925" class="text-small" style="font-weight: bold;">PostgreSQL</text>
  <text x="310" y="943" class="text-small">Primary</text>
  
  <!-- Read Replica 1 -->
  <rect x="420" y="900" width="140" height="60" rx="5" class="layer-db-component"/>
  <text x="490" y="925" class="text-small" style="font-weight: bold;">Read Replica 1</text>
  <text x="490" y="943" class="text-small">(Dashboard)</text>
  
  <!-- Read Replica 2 -->
  <rect x="600" y="900" width="140" height="60" rx="5" class="layer-db-component"/>
  <text x="670" y="925" class="text-small" style="font-weight: bold;">Read Replica 2</text>
  <text x="670" y="943" class="text-small">(Analytics)</text>
  
  <!-- Redis Cache -->
  <rect x="780" y="900" width="140" height="60" rx="5" class="layer-db-component"/>
  <text x="850" y="925" class="text-small" style="font-weight: bold;">Redis Cluster</text>
  <text x="850" y="943" class="text-small">(Cache)</text>
  
  <!-- S3 Storage -->
  <rect x="960" y="900" width="140" height="60" rx="5" class="layer-db-component"/>
  <text x="1030" y="925" class="text-small" style="font-weight: bold;">AWS S3</text>
  <text x="1030" y="943" class="text-small">(Recordings)</text>
  
  <!-- Backup -->
  <rect x="1140" y="900" width="140" height="60" rx="5" class="layer-db-component"/>
  <text x="1210" y="925" class="text-small" style="font-weight: bold;">Backup &amp;</text>
  <text x="1210" y="943" class="text-small">Replication</text>
  
  <!-- Dashed arrows from Database Layer to Components -->
  <line x1="310" y1="850" x2="310" y2="900" class="arrow arrow-dashed"/>
  <line x1="490" y1="850" x2="490" y2="900" class="arrow arrow-dashed"/>
  <line x1="670" y1="850" x2="670" y2="900" class="arrow arrow-dashed"/>
  <line x1="850" y1="850" x2="850" y2="900" class="arrow arrow-dashed"/>
  <line x1="1030" y1="850" x2="1030" y2="900" class="arrow arrow-dashed"/>
  <line x1="1210" y1="850" x2="1210" y2="900" class="arrow arrow-dashed"/>
  
  <!-- LEGEND -->
  <rect x="1460" y="50" width="120" height="200" rx="5" style="fill: #f5f5f5; stroke: #666; stroke-width: 2;"/>
  <text x="1520" y="72" class="text-small" style="font-weight: bold; font-size: 13px;">LEGEND</text>
  
  <!-- Legend items -->
  <rect x="1470" y="85" width="100" height="20" rx="3" class="layer-edge"/>
  <text x="1520" y="99" class="text-small" style="font-size: 10px;">Edge/CDN</text>
  
  <rect x="1470" y="110" width="100" height="20" rx="3" class="layer-gateway"/>
  <text x="1520" y="124" class="text-small" style="font-size: 10px;">API Gateway</text>
  
  <rect x="1470" y="135" width="100" height="20" rx="3" class="layer-service"/>
  <text x="1520" y="149" class="text-small" style="font-size: 10px;">Microservice</text>
  
  <rect x="1470" y="160" width="100" height="20" rx="3" class="layer-queue"/>
  <text x="1520" y="174" class="text-small" style="font-size: 10px;">Message Queue</text>
  
  <rect x="1470" y="185" width="100" height="20" rx="3" class="layer-worker"/>
  <text x="1520" y="199" class="text-small" style="font-size: 10px;">Worker Service</text>
  
  <rect x="1470" y="210" width="100" height="20" rx="3" class="layer-database"/>
  <text x="1520" y="224" class="text-small" style="font-size: 10px;">Database</text>
  
  <!-- Footer -->
  <text x="800" y="1080" class="text-subtitle" style="font-size: 10px; fill: #666;">
    Architecture designed for 10,000+ concurrent calls • 99.99% uptime • Sub-200ms response times
  </text>
</svg>
